<!DOCTYPE html>

<!--
    Google HTML5 slide template

    Authors: Luke MahÃ© (code)
             Marcin Wichary (code and design)
           
             Dominic Mazzoni (browser compatibility)
             Charles Chen (ChromeVox support)

    URL: http://code.google.com/p/html5slides/
-->

<html>
  <head>
    <title>Deployment as a Service: Continuous Deployment Using Cloud Based Infrastructure</title>
    <meta charset='utf-8'>
    <script src='javascript/slides.js'></script>
    <link rel="stylesheet" type="text/css" href="stylesheets/overrides.css"/>
  </head>
  <body style='display: none'>

    <section class='slides layout-regular template-2013naad'>
      
      <article class='front-page'>
        <h1>Deployment as a Service: <br/>Continuous Deployment Using Cloud Based Infrastructure</h1>
        <p>Toby Clemson and Pete Hodgson</p>
      </article>

      <article>
        <h3>Outline</h3>
        <ul>
          <li>Background and Motivation</li>
          <li>A Commit's Journey to Production</li>
          <ul style='display: none;'>
            <li>Version Control</li>
            <li>Build System</li>
            <ul>
              <li>Build</li>
              <li>Test</li>
              <li>Package</li>
              <li>Publish</li>
            </ul>
            <li>Artifact Store</li>
            <li>Compute Provider</li>
            <li>Provisioning and Deployment Scripts</li>
          </ul>
          <li>Deployment as a Service</li>
          <li>Future Plans and Ideas</li>
          <li>Conclusions</li>
        </ul>
      </article>

      <article class='medium'>
        <h3>Background and Motivation</h3>
        <ul>
          <li>Started a project, <a href="http://www.github.com/thoughtworks/rosetta-jvm">RosettaJVM</a> serving two purposes:</li>
          <ul>
            <li>An attempt to get as many JVM languages as possible into one codebase</li>
            <li>A web application to provide analytics and visualisations of language composition of projects on Github</li>
          </ul>
          <li>Collaboration on the project happened during hacknights</li>
          <li>Wanted contributors to see their changes go to production immediately after a pull request had been merged:</li>
          <ul>
            <li>Fast feedback cycle</li>
            <li>Gratification in the space of a 2 hour meetup</li>
          </ul>
          <li> => Continuous deployment to production</li>
          <li> => All in the cloud to make it interesting</li>
        </ul>
      </article>

      <article>
        <h3>A Commit's Journey to Production</h3>
        <img class='greedy-slide-image' src='images/pipeline.png'
             alt='Diagram of a typical deployment pipeline'/>
      </article>

      <article>
        <h3>A Commit's Journey to Production</h3>
        <img class='super-greedy-slide-image' src='images/tools.png'
             alt='Diagram of typical tools used in a deployment pipeline'/>
      </article>

      <article>
        <h3>A Commit's Journey to Production: <br/>Version Control</h3>
        <img class='deployment-progress-image greedy-slide-image' src='images/deployment-pipeline-1.1.png'
             alt='Diagram of typical tools used in a deployment pipeline 1.1'/>
      </article>

      <article>
        <h3>A Commit's Journey to Production: <br/>Version Control</h3>
        <div style='margin-top: 10px;'>
          <img class='logo' src='images/github-logo.png'
               alt='Github Logo' />
          <img class='logo' src='images/bitbucket-logo.png' 
               alt='Bitbucket Logo' />
          <img class='logo' src='images/selfhosted-vcs-logo.png' id='self-hosted-vcs-logo'
               alt='Self Hosted VCS Logo' />
        </div>
        <div>
          <h4>Things to consider</h4>
          <ul class="build">
            <li>
              Paranoia/compliance issue around hosting code offsite
            </li>
            <li>
              Cost (TCO)
            </li>
            <li>
              Feature set (e.g. code review, integration into ALM)
            </li>
        </div>
      </article>

      <article>
        <h3>RosettaJVM: Version Control</h3>
        <img class='greedy-slide-image' src='images/rosetta-1.png'
             alt='Rosetta deployment pipeline: version control' />
      </article>

      <article>
        <h3>A Commit's Journey to Production: <br/>Build Tool</h3>
        <img class='deployment-progress-image greedy-slide-image' src='images/deployment-pipeline-2.1.png'
             alt='Diagram of typical tools used in a deployment pipeline 2.1'/>
      </article>

      <article>
        <h3>A Commit's Journey to Production: <br />Build Tool</h3>
        <div style='margin-top: 10px;'>
          <img class='smaller-logo' src='images/maven-logo.png'
               alt='Maven Logo' />
          <img class='smaller-logo' src='images/gradle-logo.png' 
               alt='Gradle Logo' />
          <img class='smaller-logo' src='images/ant-logo.png' id='ant-logo'
               alt='Ant Logo' />
          <img class='smaller-logo' src='images/bash-logo.png'
               alt='Bash Logo'>
        </div>
        <div>
          <h4>Things to consider</h4>
          <ul class='build'>
            <li>Declarative vs. procedural</li>
            <li>Complimentary to technical stack</li>
            <li>Existing plugins</li>
          </ul>
        </div>
      </article>

      <article>
        <h3>RosettaJVM: Build Tool</h3>
        <img class='greedy-slide-image' src='images/rosetta-2.png'
             alt='Rosetta deployment pipeline: build tool' />
      </article>

      <article>
        <h3>A Commit's Journey to Production: <br/>CI Server</h3>
        <img class='deployment-progress-image greedy-slide-image' src='images/deployment-pipeline-3.1.png'
             alt='Diagram of typical tools used in a deployment pipeline 3.1'/>
      </article>


      <article>
        <h3>A Commit's Journey to Production: <br />CI Server</h3>
        <div style='margin-top: 10px;'>
          <img class='logo ci-server-logo' src='images/go-logo.png'
               alt='Go Logo' />
          <img class='logo ci-server-logo' src='images/jenkins-logo.png'
               alt='Jenkins Logo' />
          <img class='logo ci-server-logo' src='images/travis-logo.png' 
               alt='Travis Logo' />
        </div>
        <div>
          <h4>Things to consider</h4>
          <ul class="build">
            <li>
              Support for private repos
            </li>
            <li>
              Triggers
            </li>
            <li>
              Cost (TCO)
            </li>
            <li>
              Platform support (e.g. iOS builds)
            </li>
            <li>
              Pipeline support
            </li>
        </div>
      </article>

      <article>
        <h3>RosettaJVM: CI Server</h3>
        <img class='greedy-slide-image' src='images/rosetta-3.png'
             alt='Rosetta deployment pipeline: CI server' />
      </article>

      <article>
        <h3>A Commit's Journey to Production: <br/>Packaging Tool</h3>
        <img class='deployment-progress-image greedy-slide-image' src='images/deployment-pipeline-4.1.png'
             alt='Diagram of typical tools used in a deployment pipeline 4.1'/>
      </article>

      <article>
        <h3>A Commit's Journey to Production: <br />Packaging Tool</h3>
        <div class='logo-box'>
          <img class='logo' src='images/java-logo.png'
               alt='Zip Logo' />
          <img class='logo' src='images/zip-logo.png'
               alt='Zip Logo' />
          <img class='logo' src='images/debian-logo-complete.jpg' 
               alt='Debian Logo' />
          <img class='logo' src='images/redhat-logo.jpg'
               alt='Redhat Logo' />
        </div>
        <div>
          <h4>Things to consider</h4>
          <ul class="build">
            <li>
              Your platform <span class="note">e.g. don't deploy debs to windows</span>
            </li>
            <li>
              Pre/postinstall scripts
            </li>
            <li>
              Versioning
            </li>
            <li>
              Support for upgrading vs. an immutable approach
            </li>
        </div>
      </article>

      <article>
        <h3>RosettaJVM: Packaging Tool</h3>
        <img class='greedy-slide-image' src='images/rosetta-4.png'
             alt='Rosetta deployment pipeline: packaging tool' />
      </article>

      <article>
        <h3>A Commit's Journey to Production: <br/>Artifact Storage</h3>
        <img class='deployment-progress-image greedy-slide-image' src='images/deployment-pipeline-5.1.png'
             alt='Diagram of typical tools used in a deployment pipeline 5.1'/>
      </article>

      <article>
        <h3>A Commit's Journey to Production: <br />Artifact Storage</h3>
        <div class='logo-box'>
          <img class='logo artifact-storage-logo' src='images/scp-logo.png'
               alt='SCP Logo' style='max-width: 20%'/>
          <img class='logo artifact-storage-logo' src='images/webdav-logo.png'
               alt='WebDAV Logo' style='max-width: 20%'/>
          <img class='logo artifact-storage-logo' src='images/aws-logo.png' 
               alt='AWS S3 Logo' style='max-width: 20%;'/>
          <img class='logo artifact-storage-logo' src='images/nexus-logo.png' 
               alt='Nexus Logo' style='margin-top: 20px; height: auto; max-width: 20%;'/>
          <img class='logo artifact-storage-logo' src='images/artifactory-logo.jpg' 
               alt='Artifactory Logo' style='margin-top: 28px; height: auto; max-width: 20%;'/>
        </div>
        <div>
          <h4>Things to consider</h4>
          <ul class="build">
            <li>
              The rest of your tooling <span class="note">e.g. jars => artifact repos, zips => S3</span>
            </li>
            <li>
              Versioning
            </li>
            <li>
              Security/compliance issues <span class="note">e.g. access from prod, storing code externally</span>
            </li>
        </div>
      </article>

      <article>
        <h3>RosettaJVM: Artifact Storage</h3>
        <img class='greedy-slide-image' src='images/rosetta-5.png'
             alt='Rosetta deployment pipeline: artifact storage' />
      </article>

      <article>
        <h3>A Commit's Journey to Production: <br/>Compute Service</h3>
        <img class='deployment-progress-image greedy-slide-image' src='images/deployment-pipeline-6.1.png'
             alt='Diagram of typical tools used in a deployment pipeline 6.1'/>
      </article>

      <article>
        <h3>A Commit's Journey to Production: <br />Compute Service</h3>
        <div class="logo-box">
          <img class='logo' src='images/rackspace-cloud-servers-logo.png'
               alt='Rackspace Cloud' />
          <img class='logo' src='images/aws-logo.png' 
               alt='AWS Logo' />
          <img class='logo' src='images/google-compute-engine-logo.png' 
               alt='Google Compute Engine Logo' />
        </div>
        <div>
          <h4>Things to consider</h4>
          <ul class="build">
            <li>
              Internal or External Cloud?
            </li>
            <li>
              What do you need beyond compute? <span class="note">e.g. load balancing, DNS, storage, monitoring, scaling...</span>
            </li>
            <li>
              Automation API
            </li>
            <li>
              Performance
            </li>
            <li>
              Reliability
            </li>
        </div>
      </article>

      <article>
        <h3>RosettaJVM: Compute Service</h3>
        <img class='greedy-slide-image' src='images/rosetta-6.png'
             alt='Rosetta deployment pipeline: compute service' />
      </article>

      <article>
        <h3>A Commit's Journey to Production: <br/>Provisioning/Deployment</h3>
        <img class='deployment-progress-image greedy-slide-image' src='images/deployment-pipeline-7.1.png'
             alt='Diagram of typical tools used in a deployment pipeline 7.1'/>
      </article>
      
      <article>
        <h3>A Commit's Journey to Production: <br />Provisioning/Deployment</h3>
        <div class="logo-box">
          <img class='logo' src='images/chef-logo.png'
               alt='Chef logo' />
          <img class='logo' src='images/puppet-logo.png' 
               alt='Puppet Logo' />
          <img class='logo' src='images/pallet-logo.jpeg' 
               alt='Pallet Logo' />
        </div>
        <div>
          <h4>Things to consider</h4>
          <ul class="build">
            <li>
              Dry-run report
            </li>
            <li>
              Off-the-shelf modules for common dependencies
            </li>
            <li>
              Server-Agent model vs. Standalone
            </li>
            <li>
              Beware the alien artifact
            </li>
        </div>
      </article>

      <article>
        <h3>RosettaJVM: Provisioning/Deployment</h3>
        <img class='greedy-slide-image' src='images/rosetta-7.png'
             alt='Rosetta deployment pipeline: provisioning/deployment' />
      </article>
      
      <article>
        <h3>A Commit's Journey to Production: <br/>Monitoring</h3>
        <img class='deployment-progress-image greedy-slide-image' src='images/deployment-pipeline-8.1.png'
             alt='Diagram of typical tools used in a deployment pipeline 8.1'/>
      </article>

      <article>
        <h3>A Commit's Journey to Production: <br/>Done!</h3>
        <img class='greedy-slide-image' src='images/pipeline.png'
             alt='Diagram of phases in a deployment pipeline'/>
      </article>

      <article>
        <h3>Deployment as a Service</h3>
        <ul class='build'>
          <li>An experiment</li>
          <li>Advantages:</li>
          <ul>
            <li>Changing version or scaling nodes is just a POST request</li>
            <li>Deployment data as an API</li>
            <li>Chaos monkey scenario</li>
          </ul>
          <li>Disadvantages:</li>
          <ul>
            <li>Log information not in build tool</li>
            <li>Extra piece of infrastructure</li>
          </ul>
        </ul>
      </article>

      <article>
        <h3>Future Plans and Ideas</h3>
        <ul class='build'>
          <li>True pipeline using git marker branches</li>
          <li>Configuration management external to deployer</li>
          <li>Blue-green deployment</li>
          <li>Deployment status</li>
          <li>Environment aggregator micro-service</li>
          <li>Prebuilt AMIs</li>
        </ul>
      </article>

      <article>
        <h3>Conclusions</h3>
        <ul>
          <li>Choose your own adventure</li>
          <li>Continuous deployment is possible using only cloud based components</li>
          <li>CI is becoming an expectation for open source projects</li>
        </ul>
      </article>

    </section>

  </body>
</html>
